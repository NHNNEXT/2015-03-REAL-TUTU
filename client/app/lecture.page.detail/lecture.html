<section>
  <div layout="row">
    <div flex>
      <h2>
        <span ng-bind="lecture.name"></span>
        <small ui-sref="lectureEdit({id:lecture.id})"
               ng-show="lecture.hostUser.isRootUser()">
          수정
        </small>
      </h2>
    </div>
  </div>
  <div layout="row" layout-sm="column">
    <div flex class="info margin-bottom">
      <span ng-show="lecture.majorType!==undefined">
        {{types.majorTypes[lecture.majorType]}}
        <span class="bar"></span>
      </span>
      게시물 {{lecture.contents.length}}
      <span class="bar"></span>
      참여자 {{lecture.users.length}}
    </div>
    <div layout="row" layout-align-gt-sm="end center" flex class="info margin-bottom">
      <span ng-hide="lecture.hostUser.isRootUser() || lecture.isEnrolled()">
      <span ng-show="!lecture.isWaiting()"
            ng-click="lecture.enroll(lecture.id)">
        참여신청
      </span>
      <span ng-show="lecture.isWaiting()" ng-click="lecture.expel(rootUser)">
        가입 승인 대기중
      </span>
      </span>
      <span ng-show="lecture.hostUser.isRootUser() || lecture.isEnrolled()"
            ui-sref="contentNew({lectureId:lecture.id})">
        새로 만들기
      </span>
    </div>
  </div>


  <md-tabs md-selected="tabIndex" md-dynamic-height md-border-bottom>
    <md-tab label=" 목록 " md-on-select="state('list')">
      <md-content class="md-padding">
        <ng-include src="'/lecture.page.detail/part/contents.html'"></ng-include>
      </md-content>
    </md-tab>
    <md-tab label=" 일정 " md-on-select="state('timetable')">
      <md-content class="md-padding">
        <ng-include src="'/lecture.page.detail/part/timetable.html'"></ng-include>
      </md-content>
    </md-tab>
    <md-tab label=" 참여자 " md-on-select="state('users')">
      <md-content class="md-padding">
        <ng-include src="'/lecture.page.detail/part/users.html'"></ng-include>
      </md-content>
    </md-tab>
    <md-tab label=" 참여 신청      " ng-if="lecture.hostUser.isRootUser()" md-on-select="state('requestUsers')">
      <md-content class="md-padding">
        <ng-include src="'/lecture.page.detail/part/waitingUsers.html'"></ng-include>
      </md-content>
    </md-tab>
    <!-- to resolve last tab disappeared bug -->
    <md-tab ng-disabled="true"><md-tab-label>&nbsp;</md-tab-label></md-tab>
  </md-tabs>
</section>
